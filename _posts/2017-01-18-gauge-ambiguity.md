---
layout: post
title: "Gauge Ambiguity"
date: 2017-01-18 09:00:40 GMT
tags:
- least squares
comment: true
---



在求解优化问题时，存在一种现象叫做 Gauge Ambiguity 。我们来看一个简单的例子：

假设在一条直线上有 $n$ 个质点，在直线上建立一维坐标系，用 $x_1, x_2, \dots, x_n$ 表示它们在这一坐标系下的坐标。现在用一把尺子测量任意两点间的距离，记 $x_i$ 点和 $x_j$ 点间的距离为 $d_{ij}$ ，每次测量带有相同的误差，且误差是零偏的。试求解每个点的坐标。

如果我们不假思索地开始写最小二乘，可以得到下面的目标优化：

$$
\min \sum_{i\neq j}\left(\sqrt{(x_i-x_j)^2} - d_{ij}\right)^2.
$$

但是且慢！稍微留心就可以发现：如果我们将所有的点沿着直线滑动相同的路程，这个目标优化的值不会受到任何的影响！

这种现象便叫做 Gauge Ambiguity ，是当优化变量关于外部坐标系定义，但优化能量本身与外部坐标系的选取无关时发生的现象。在这种情况下，对于任意一个最优解，我们总可以更换一下坐标系，于是就可以得到一个新的最优解。换句话说就是最优解并不唯一（有无限多）。

解决 GA 的最简单方法是采用一个与优化变量绑定的坐标系。例如上面的问题中，我们可以把 $x_1$ 定义为原点，这时就有 $x_1 = 0$ ，也就是我们固定了 $x_1$ 的值。此时剩余的变量上就不存在这个问题了（但是解还是有两个，互相镜像，这可以通过适当选取初始值来区分）。

那么在优化中，GA 会产生什么问题呢？以上面的问题为例，如果我们计算一下 $n=2,3,4$ 个质点的情形下对应的 Jacobian 就会发现发现：任何一个 Jacobian ，它的最后一列都等于左侧三列相加，这意味着每个 Jacobian 都是秩亏的。这便是 GA 带来的问题。一般来说，当我们总的变量数是 $n$ ，而外部坐标系的维度是 $k$ 时，问题的 Jacobian 的秩不大于 $n-k$ 。

前面我们介绍过，在 Jacobian 秩亏时，采用 LM 算法的最小二乘优化仍能鲁棒地收敛。然而此时算法采用的是最速下降步，这意味着算法的收敛速度会大打折扣。因此，如果在问题中存在 GA，应该首先尝试修改问题回避它，才能使优化更加高效。
